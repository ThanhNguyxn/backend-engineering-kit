# Amazon Q Developer Instructions

> For Amazon Q Developer CLI/IDE
> Generated by Backend Engineering Kit (bek)

## Project Context

This project uses Backend Engineering Kit patterns for production-grade code.

## Workflow

1. **Parse**: Identify task scope
2. **Search**: `bek search "<query>"`
3. **Apply**: Follow pattern Solution
4. **Validate**: `bek gate --checklist <id>`

## AWS Integration Notes

When working with AWS services:
- Use structured logging compatible with CloudWatch
- Implement proper retry logic for AWS SDK calls
- Use Parameter Store/Secrets Manager for secrets

## Code Standards

### Error Handling
```typescript
throw new AppError({
  code: 'RESOURCE_NOT_FOUND',
  message: 'User not found',
  statusCode: 404,
  requestId: context.requestId
});
```

### Logging (CloudWatch Compatible)
```typescript
console.log(JSON.stringify({
  level: 'INFO',
  requestId: event.requestContext?.requestId,
  message: 'Processing request',
  data: { userId }
}));
```

### Lambda Best Practices
- Minimize cold start with lazy loading
- Use connection pooling for databases
- Set appropriate timeouts
- Use structured responses

## Patterns for AWS

| Use Case | Pattern |
|----------|---------|
| API Gateway responses | api-error-model |
| DynamoDB access | db-indexing-basics |
| Secret management | sec-secrets-management |
| SQS/SNS handling | rel-dlq-basics |
| X-Ray tracing | obs-correlation-id |

## Security Checklist

- [ ] IAM roles follow least privilege
- [ ] No secrets in code or env vars
- [ ] Input validation on all endpoints
- [ ] Rate limiting configured
- [ ] Encryption at rest and in transit
