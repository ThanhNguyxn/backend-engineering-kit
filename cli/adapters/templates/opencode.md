# AGENTS.md

> Place at `.opencode/AGENTS.md` - OpenCode will auto-discover this file
> Generated by Backend Engineering Kit (bek)

## Project Overview

This project follows Backend Engineering Kit patterns for production-grade backend code.

## Workflow

### Parse → Search → Apply → Validate

1. **Parse**: Identify task scope
   - `api` - Endpoints, validation, responses
   - `database` - Schema, queries, migrations
   - `security` - Auth, rate limiting, secrets
   - `reliability` - Timeouts, retries, circuit breakers
   - `observability` - Logging, metrics, tracing

2. **Search**: Find patterns
   ```bash
   bek search "<query>" --scope <scope>
   ```

3. **Apply**: Follow Solution section

4. **Validate**: Run checklist
   ```bash
   bek gate --checklist <checklist-id>
   ```

## Build Mode Guidelines

When in Build mode:
- Follow patterns exactly
- Include all error handling
- Add structured logging
- Validate inputs at boundaries

## Plan Mode Guidelines

When in Plan mode:
- Reference relevant BEK patterns
- List checklist items to verify
- Identify potential pitfalls

## Code Standards

### Error Responses
```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Description",
    "requestId": "uuid"
  }
}
```

### Logging
```json
{
  "level": "info",
  "message": "Event",
  "correlationId": "id",
  "timestamp": "ISO8601"
}
```

## Available Checklists

- `checklist-api-review` - REST API review
- `checklist-db-review` - Database review
- `checklist-security-review` - Security audit
- `checklist-reliability-review` - Resilience check
- `checklist-prod-readiness` - Pre-deploy

## Commands

```bash
# Search patterns
bek search "authentication"

# Run checklist
bek gate --checklist checklist-api-review

# Lint content
bek lint --fix
```
