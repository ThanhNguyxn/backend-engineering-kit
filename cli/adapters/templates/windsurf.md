# Windsurf AI Instructions

> Generated by Backend Engineering Kit (bek)

## Project Context

This project follows Backend Engineering Kit (BEK) production patterns.

## Workflow

Follow the 4-step pipeline for every backend task:

1. **Parse** → Identify task scope (api/database/security/reliability/observability)
2. **Search** → `bek search "<query>" --scope <scope>`
3. **Apply** → Follow the matched pattern's Solution section
4. **Validate** → `bek gate --checklist <checklist-id>`

## Coding Conventions

### API Design
- Use consistent error format with code, message, requestId
- Validate all inputs at boundary
- Return appropriate HTTP status codes

### Database
- Index foreign keys and frequently queried columns
- Use transactions for multi-step operations
- Implement soft delete for audit trails

### Security
- Never log secrets or PII
- Use parameterized queries only
- Implement rate limiting on public endpoints

### Reliability
- Set timeouts on all external calls
- Implement retries with exponential backoff
- Use circuit breakers for external dependencies

### Observability
- Use structured JSON logging
- Include correlation IDs in all logs
- Log request/response at boundaries

## Available Checklists

| Checklist | Use For |
|-----------|---------|
| `checklist-api-review` | REST API endpoints |
| `checklist-db-review` | Database changes |
| `checklist-security-review` | Security-sensitive code |
| `checklist-reliability-review` | External integrations |
| `checklist-prod-readiness` | Pre-deployment |

## Memory Instructions

When you remember context about this project:
- Note patterns that have been applied
- Track which checklists have been validated
- Remember project-specific conventions
