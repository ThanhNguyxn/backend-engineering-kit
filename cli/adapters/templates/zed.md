# Zed AI Assistant Instructions

> Place as `.rules` in project root
> Generated by Backend Engineering Kit (bek)

## Context

This project uses Backend Engineering Kit patterns for production-grade backend code.

## Workflow

### Parse → Search → Apply → Validate

1. **Parse**: Identify task scope
   - api, database, security, reliability, observability

2. **Search**: Find patterns
   ```bash
   bek search "<feature>"
   ```

3. **Apply**: Follow Solution section from pattern

4. **Validate**: Run checklist
   ```bash
   bek gate --checklist <id>
   ```

## Coding Standards

### TypeScript/Node.js
- Strict mode enabled
- ESM modules
- Async/await for promises
- Zod for validation

### Python
- Type hints required
- Pydantic for models
- Async with FastAPI/HTTPX

### Go
- Standard library preferred
- Context propagation
- Error wrapping

## Error Format

```json
{
  "error": {
    "code": "ERROR_CODE",
    "message": "Description",
    "requestId": "uuid"
  }
}
```

## Pattern Reference

| Scope | Key Patterns |
|-------|--------------|
| API | error-model, validation, pagination |
| Database | indexing, migrations, transactions |
| Security | rate-limiting, auth, secrets |
| Reliability | timeouts, retries, circuit-breaker |
| Observability | logging, metrics, correlation-id |

## Commands

```bash
# Search patterns
bek search "authentication"

# Validate implementation
bek gate --checklist checklist-api-review

# List all checklists
bek list --type checklist
```
